package main

import (
	"testing"
)

func TestNewConnect(t *testing.T) {
	b := []byte{
		0x10, 0x28, 0x00, 0x04, 0x4d, 0x51, 0x54, 0x54, 0x04, 0xc2, 0x00, 0x3c, 0x00, 0x16, 0x6d, 0x71,
		0x74, 0x74, 0x2d, 0x65, 0x78, 0x70, 0x6c, 0x6f, 0x72, 0x65, 0x72, 0x2d, 0x35, 0x37, 0x65, 0x37,
		0x66, 0x63, 0x37, 0x63, 0x00, 0x01, 0x61, 0x00, 0x01, 0x31,
	}
	p := NewConnect(b)
	if p.Username != "a" {
		t.Errorf("got %s, expected a", p.Username)
	}
	if p.Password != "1" {
		t.Errorf("got %s, expected 1", p.Password)
	}
}
